@use '../utils/all' as *

// Hamburger Menu Mixins
@mixin hamburger-line
    content: ''
    display: block
    width: 25px
    height: 2px
    background-color: #333
    transition: all 0.3s ease

// Main Header Styles
.header
    background-color: #fff
    padding: 12px 0
    position: sticky
    top: 0
    z-index: 1000
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08)

    .container
        max-width: 1200px
        margin: 0 auto
        padding: 0 20px
        
        .header-main__wrapper
            display: flex
            justify-content: space-between
            align-items: center

    // Left Side
    &-left-wrapper
        @include flex-center
        @include flex-wrap
        gap: 2rem

        @media (max-width: 768px)
            width: 100%
            justify-content: space-between
            
        .logo
            @include flex-center
            text-decoration: none

            img
                height: 40px
                margin-right: 20px

            .site-title
                font-size: 1.5rem
                font-weight: bold
                color: #333
                transition: color 0.3s

                &:hover
                    color: #007BFF

        .navigation
            @media (max-width: 768px)
                display: none
                position: absolute
                top: 100%
                left: 0
                width: 100%
                background: white
                padding: 1rem
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1)

                &.active
                    display: block

                .mobile-auth
                    display: block
                    margin-top: 1rem
                    padding-top: 1rem
                    border-top: 1px solid #eee

                    .user-menu, .auth-buttons
                        display: flex
                        flex-direction: column
                        gap: 1rem
                        width: 100%

            .mobile-auth
                display: none

            ul
                @include flex-center
                list-style: none
                margin: 0
                padding: 0

                @media (max-width: 768px)
                    flex-direction: column
                    align-items: flex-start
                    gap: 1rem

                li
                    margin: 0 15px

                    @media (max-width: 768px)
                        margin: 0
                        width: 100%

                    a
                        text-decoration: none
                        color: #333
                        font-size: 1rem
                        transition: color 0.3s
                        display: block
                        padding: 0.5rem 0

                        &:hover
                            color: #007BFF

    // Right Side
    &-right
        @include flex-center
        gap: 1rem

        @media (max-width: 768px)
            display: none

        .user-menu
            @include flex-center
            gap: 1rem

            @media (max-width: 768px)
                flex-direction: column
                align-items: stretch

            .dashboard-btn
                text-decoration: none
                padding: 8px 16px
                background-color: #007BFF
                color: white
                border-radius: 4px
                transition: all 0.3s ease

                &:hover
                    background-color: #0056b3

            .logout-btn
                padding: 8px 16px
                background-color: #dc3545
                color: white
                border: none
                border-radius: 4px
                cursor: pointer
                transition: all 0.3s ease

                &:hover
                    background-color: #c82333

        .auth-buttons
            @include flex-center
            gap: 1rem

            @media (max-width: 768px)
                flex-direction: column
                align-items: stretch

            .login-btn, .register-btn
                text-decoration: none
                padding: 8px 16px
                border-radius: 4px
                transition: all 0.3s ease
                text-align: center

            .login-btn
                background-color: transparent
                color: #007BFF
                border: 1px solid #007BFF

                &:hover
                    background-color: #007BFF
                    color: white

            .register-btn
                background-color: #007BFF
                color: white
                border: 1px solid #007BFF

                &:hover
                    background-color: #0056b3

    // Hamburger Menu
    .hamburger
        display: none
        cursor: pointer
        background: none
        border: none
        padding: 10px
        position: relative
        z-index: 100

        @media (max-width: 768px)
            display: block

        &::before
            @include hamburger-line
            margin-bottom: 6px

        &::after
            @include hamburger-line
            margin-top: 6px

        span
            @include hamburger-line

        &.active
            span
                background-color: transparent

            &::before
                transform: translateY(8px) rotate(45deg)

            &::after
                transform: translateY(-8px) rotate(-45deg)

// Cart Link Styles
.cart-link
    position: relative
    display: flex
    align-items: center
    gap: 0.5rem
    color: #333
    text-decoration: none
    
    &::after
        content: ''
        position: absolute
        bottom: -2px
        left: 0
        width: 100%
        height: 2px
        background: currentColor
        transform: scaleX(0)
        transition: transform 0.3s ease
    
    &:hover::after
        transform: scaleX(1)

// Media Queries for Responsive Design
@media (max-width: 768px)
    .header
        .container
            padding: 0 15px

        &-left-wrapper
            gap: 1rem

        &-right
            .user-menu, .auth-buttons
                display: none

                &.active
                    display: flex
                    position: absolute
                    top: 100%
                    left: 0
                    width: 100%
                    background: white
                    padding: 1rem
                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1)
                    flex-direction: column